txnName,logicalTxnName,refMsg,valRules,genRules,matchRules,flags
zz__fandango_api_body_validation,__RULESET__,,$VALIDATE_API_BODY|,,,FINAL
zz__fandango_api_amountTransaction,__RULESET__,,,$SET_API_FIELD(^~1.amount; ~2)|,,
zz__fandango_api_amountTransaction,__RULESET__,,,~1.currency := ~3|,,
zz__fandango_api_amountTransaction_linked,__RULESET__,,,$SET_API_FIELD(^~1.amount; ^~2.amount)|,,
zz__fandango_api_amountTransaction_linked,__RULESET__,,,~1.currency := ~2.currency|,,
payment_request,PaymentRequest,,,$DVALUE_SET($DRIVER_NAME; 'TXN_PATH'; '/payments/request')|,,INITIAL
payment_request,PaymentRequest,,,$SET_CURR_DATE_TIME($NOW)|,,
payment_request,PaymentRequest,,,#INCLUDE(zz__api_request_hdr)|,,
payment_request,PaymentRequest,,,api_def.body := json_msg['PaymentRequest']|,,INITIAL
payment_request,PaymentRequest,,,api_def.body.messageTypeIdentifier := '0100'|,,
payment_request,PaymentRequest,,,api_def.body.primaryAccountNumber := card['PAN']|,,
payment_request,PaymentRequest,,,api_def.body.processingCode.transactionType := '0'|,,
payment_request,PaymentRequest,,,api_def.body.processingCode.accountTypeFrom := '11'|,,
payment_request,PaymentRequest,,,api_def.body.processingCode.accountTypeTo := '22'|,,
payment_request,PaymentRequest,,,#INCLUDE(zz__fandango_api_amountTransaction;api_def.body.amountTransaction;'45.99';'AUD')|,,
payment_request,PaymentRequest,,,#INCLUDE(zz__fandango_api_amountTransaction;api_def.body.amountCardholderBilling;'65.99';'GBP')|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.date.year := $FORMAT_DATE_TIME('yyyy'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.date.month := $FORMAT_DATE_TIME('MM'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.date.day := $FORMAT_DATE_TIME('dd'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.time.hour := $FORMAT_DATE_TIME('HH'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.time.minute := $FORMAT_DATE_TIME('mm'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.time.second := $FORMAT_DATE_TIME('ss'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.transmissionDateAndTime.time.nano := $FORMAT_DATE_TIME('S'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.systemTraceAuditNumber := $NEXT_COUNTER($CONCAT($DRIVER_NAME; '_STAN'))|,,
payment_request,PaymentRequest,,,api_def.body.timeLocalTransaction.hour := $FORMAT_DATE_TIME('HH'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.timeLocalTransaction.minute := $FORMAT_DATE_TIME('mm'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.timeLocalTransaction.second := $FORMAT_DATE_TIME('ss'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.timeLocalTransaction.nano := $FORMAT_DATE_TIME('S'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateLocalTransaction.year := $FORMAT_DATE_TIME('yyyy'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateLocalTransaction.month := $FORMAT_DATE_TIME('MM'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateLocalTransaction.day := $FORMAT_DATE_TIME('dd'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateSettlement.year := $FORMAT_DATE_TIME('yyyy'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateSettlement.month := $FORMAT_DATE_TIME('MM'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateSettlement.day := $FORMAT_DATE_TIME('dd'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateConversion.year := $FORMAT_DATE_TIME('yyyy'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateConversion.month := $FORMAT_DATE_TIME('MM'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.dateConversion.day := $FORMAT_DATE_TIME('dd'; $NOW)|,,
payment_request,PaymentRequest,,,api_def.body.merchantType := '5981'|,,
payment_request,PaymentRequest,,,api_def.body.posEntryModeCode.panEntryMode := '1'|,,
payment_request,PaymentRequest,,,api_def.body.posEntryModeCode.pinEntryMode := '0'|,,
payment_request,PaymentRequest,,,api_def.body.acquiringInstitutionIdentificationCode := '818181'|,,
payment_request,PaymentRequest,,,api_def.body.retrievalReferenceNumber := '090700012345'|,,
payment_request,PaymentRequest,,,api_def.body.cardAcceptorTerminalIdentification := 'ABCDEFGH'|,,
payment_request,PaymentRequest,,,api_def.body.cardAcceptorIdentificationCode := 'ABCDEFGH0123456'|,,
payment_request,PaymentRequest,,,api_def.body.privateUseFields := 'MCC123456789'|,,
payment_request,PaymentRequest,,$DVALUE_SET($DRIVER_NAME; 'TXN_PATH'; '/payments/request')|,,,INITIAL
payment_request,PaymentRequest,,#INCLUDE(zz__api_request_hdr)|,,,
payment_request,PaymentRequest,,#INCLUDE(zz__fandango_api_body_validation)|,,,
payment_request,PaymentRequest,,,,$STATION|,
payment_response,Response,,,#INCLUDE(zz__response_hdr_200)|,,
payment_response,Response,,,api_def.body := json_msg['PaymentResponse']|,,
payment_response,Response,,,api_def.body.messageTypeIdentifier := '110'|,,
payment_response,Response,,,api_def.body.primaryAccountNumber := linked[0]::api_def.body.primaryAccountNumber|,,
payment_response,Response,,,api_def.body.processingCode.transactionType := linked[0]::api_def.body.processingCode.transactionType|,,
payment_response,Response,,,api_def.body.processingCode.accountTypeFrom := linked[0]::api_def.body.processingCode.accountTypeFrom|,,
payment_response,Response,,,api_def.body.processingCode.accountTypeTo := linked[0]::api_def.body.processingCode.accountTypeFrom|,,
payment_response,Response,,,#INCLUDE(zz__fandango_api_amountTransaction_linked;api_def.body.amountTransaction;linked[0]::api_def.body.amountTransaction)|,,
payment_response,Response,,,#INCLUDE(zz__fandango_api_amountTransaction_linked;api_def.body.amountCardholderBilling;linked[0]::api_def.body.amountCardholderBilling)|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.date.year := linked[0]::api_def.body.transmissionDateAndTime.date.year|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.date.month := linked[0]::api_def.body.transmissionDateAndTime.date.month|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.date.day := linked[0]::api_def.body.transmissionDateAndTime.date.day|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.time.hour := linked[0]::api_def.body.transmissionDateAndTime.time.hour|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.time.minute := linked[0]::api_def.body.transmissionDateAndTime.time.minute|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.time.second := linked[0]::api_def.body.transmissionDateAndTime.time.second|,,
payment_response,Response,,,api_def.body.transmissionDateAndTime.time.nano := linked[0]::api_def.body.transmissionDateAndTime.time.nano|,,
payment_response,Response,,,api_def.body.systemTraceAuditNumber := linked[0]::api_def.body.systemTraceAuditNumber|,,
payment_response,Response,,,api_def.body.timeLocalTransaction.hour := linked[0]::api_def.body.timeLocalTransaction.hour|,,
payment_response,Response,,,api_def.body.timeLocalTransaction.minute := linked[0]::api_def.body.timeLocalTransaction.minute|,,
payment_response,Response,,,api_def.body.timeLocalTransaction.second := linked[0]::api_def.body.timeLocalTransaction.second|,,
payment_response,Response,,,api_def.body.timeLocalTransaction.nano := linked[0]::api_def.body.timeLocalTransaction.nano|,,
payment_response,Response,,,api_def.body.dateLocalTransaction.year := linked[0]::api_def.body.dateLocalTransaction.year|,,
payment_response,Response,,,api_def.body.dateLocalTransaction.month := linked[0]::api_def.body.dateLocalTransaction.month|,,
payment_response,Response,,,api_def.body.dateLocalTransaction.day := linked[0]::api_def.body.dateLocalTransaction.day|,,
payment_response,Response,,,api_def.body.dateSettlement.year := linked[0]::api_def.body.dateSettlement.year|,,
payment_response,Response,,,api_def.body.dateSettlement.month := linked[0]::api_def.body.dateSettlement.month|,,
payment_response,Response,,,api_def.body.dateSettlement.day := linked[0]::api_def.body.dateSettlement.day|,,
payment_response,Response,,,api_def.body.dateConversion.year := linked[0]::api_def.body.dateConversion.year|,,
payment_response,Response,,,api_def.body.dateConversion.month := linked[0]::api_def.body.dateConversion.month|,,
payment_response,Response,,,api_def.body.dateConversion.day := linked[0]::api_def.body.dateConversion.day|,,
payment_response,Response,,,api_def.body.merchantType := linked[0]::api_def.body.merchantType|,,
payment_response,Response,,,api_def.body.posEntryModeCode.panEntryMode := linked[0]::api_def.body.posEntryModeCode.panEntryMode|,,
payment_response,Response,,,api_def.body.posEntryModeCode.pinEntryMode := linked[0]::api_def.body.posEntryModeCode.pinEntryMode|,,
payment_response,Response,,,api_def.body.acquiringInstitutionIdentificationCode := linked[0]::api_def.body.acquiringInstitutionIdentificationCode|,,
payment_response,Response,,,api_def.body.retrievalReferenceNumber := linked[0]::api_def.body.retrievalReferenceNumber|,,
payment_response,Response,,,api_def.body.authorizationIdentificationResponse := 'ABC012'|,,
payment_response,Response,,,api_def.body.responseCode := $PARTIAL(linked[0]::api_def.body.cardAcceptorTerminalIdentification; '6'; '2')|,,
payment_response,Response,,,api_def.body.cardAcceptorTerminalIdentification := linked[0]::api_def.body.cardAcceptorTerminalIdentification|,,
payment_response,Response,,,api_def.body.privateUseFields := linked[0]::api_def.body.privateUseFields|,,
payment_response,Response,,#INCLUDE(zz__api_response_hdr)|,,,
payment_response,Response,,#INCLUDE(zz__fandango_api_body_validation)|,,,
payment_response,Response,,api_def.body.responseCode = '00'|,,,
